"use strict";(self.webpackChunkfielder_docs=self.webpackChunkfielder_docs||[]).push([[129],{2129:(n,a,e)=>{e.r(a),e.d(a,{default:()=>c});var t=e(8311);function s(n){var a=Object.assign({h1:"h1",p:"p",em:"em",code:"code",h2:"h2",ul:"ul",li:"li",a:"a",div:"div",pre:"pre",span:"span",blockquote:"blockquote"},n.components);return(0,t.BX)(t.HY,{children:[(0,t.tZ)(a.h1,{id:"validation",children:"Validation"}),"\n",(0,t.tZ)(a.p,{children:(0,t.BX)(a.em,{children:["Validation is one of the key ways in which ",(0,t.tZ)(a.code,{children:"Fielder"})," differentiates itself from other libraries."]})}),"\n",(0,t.tZ)(a.h2,{id:"validation-events",children:"Validation events"}),"\n",(0,t.tZ)(a.p,{children:"Any provided validation function will be triggered immediately on either of these events:"}),"\n",(0,t.BX)(a.ul,{children:["\n",(0,t.BX)(a.li,{children:[(0,t.tZ)(a.code,{children:"mount"})," - on field mount/remount."]}),"\n",(0,t.BX)(a.li,{children:[(0,t.tZ)(a.code,{children:"change"})," - on value change."]}),"\n",(0,t.BX)(a.li,{children:[(0,t.tZ)(a.code,{children:"blur"})," - on blur event."]}),"\n",(0,t.BX)(a.li,{children:[(0,t.tZ)(a.code,{children:"update"})," - on ",(0,t.tZ)(a.em,{children:"any"})," change event across the form (see ",(0,t.tZ)(a.a,{href:"#cross-form-validation",children:"cross form validation"}),")."]}),"\n",(0,t.BX)(a.li,{children:[(0,t.tZ)(a.code,{children:"submit"})," - on submit handler called."]}),"\n"]}),"\n",(0,t.tZ)(a.h2,{id:"basic-validation",children:"Basic validation"}),"\n",(0,t.BX)(a.p,{children:["Validation is as simple as providing a function to ",(0,t.tZ)(a.code,{children:"useField"})," which is called on each ",(0,t.tZ)(a.a,{href:"#validation-events",children:"validation event"}),"."]}),"\n",(0,t.tZ)(a.div,{className:"remark-highlight",children:(0,t.tZ)(a.pre,{className:"language-tsx",children:(0,t.BX)(a.code,{className:"language-tsx",children:[(0,t.tZ)(a.span,{className:"token keyword",children:"const"})," ",(0,t.tZ)(a.span,{className:"token function-variable function",children:"MyField"})," ",(0,t.tZ)(a.span,{className:"token operator",children:"="})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),(0,t.tZ)(a.span,{className:"token punctuation",children:")"})," ",(0,t.tZ)(a.span,{className:"token arrow operator",children:"=>"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"{"}),"\n  ",(0,t.tZ)(a.span,{className:"token keyword",children:"const"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"["}),"passwordProps",(0,t.tZ)(a.span,{className:"token punctuation",children:","})," passwordMeta",(0,t.tZ)(a.span,{className:"token punctuation",children:"]"})," ",(0,t.tZ)(a.span,{className:"token operator",children:"="})," ",(0,t.tZ)(a.span,{className:"token function",children:"useField"}),(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),(0,t.tZ)(a.span,{className:"token punctuation",children:"{"}),"\n    name",(0,t.tZ)(a.span,{className:"token operator",children:":"})," ",(0,t.tZ)(a.span,{className:"token string",children:"'password'"}),"\n    validate",(0,t.tZ)(a.span,{className:"token operator",children:":"})," validatePassword\n  ",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"}),(0,t.tZ)(a.span,{className:"token punctuation",children:")"}),(0,t.tZ)(a.span,{className:"token punctuation",children:";"}),"\n\n  ",(0,t.tZ)(a.span,{className:"token keyword",children:"return"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),"\n    ",(0,t.BX)(a.span,{className:"token tag",children:[(0,t.tZ)(a.span,{className:"token tag",children:(0,t.tZ)(a.span,{className:"token punctuation",children:"<"})}),(0,t.tZ)(a.span,{className:"token punctuation",children:">"})]}),(0,t.tZ)(a.span,{className:"token plain-text"}),"\n",(0,t.tZ)(a.span,{className:"token plain-text",children:"      "}),(0,t.BX)(a.span,{className:"token tag",children:[(0,t.BX)(a.span,{className:"token tag",children:[(0,t.tZ)(a.span,{className:"token punctuation",children:"<"}),"input"]})," ",(0,t.tZ)(a.span,{className:"token attr-name",children:"type"}),(0,t.BX)(a.span,{className:"token attr-value",children:[(0,t.tZ)(a.span,{className:"token punctuation attr-equals",children:"="}),(0,t.tZ)(a.span,{className:"token punctuation",children:'"'}),"password",(0,t.tZ)(a.span,{className:"token punctuation",children:'"'})]})," ",(0,t.BX)(a.span,{className:"token spread",children:[(0,t.tZ)(a.span,{className:"token punctuation",children:"{"}),(0,t.tZ)(a.span,{className:"token spread operator",children:"..."}),"passwordProps",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"})]})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"/>"})]}),(0,t.tZ)(a.span,{className:"token plain-text"}),"\n",(0,t.tZ)(a.span,{className:"token plain-text",children:"      "}),(0,t.tZ)(a.span,{className:"token punctuation",children:"{"}),"passwordMeta",(0,t.tZ)(a.span,{className:"token punctuation",children:"."}),(0,t.tZ)(a.span,{className:"token property-access",children:"hasBlurred"})," ",(0,t.tZ)(a.span,{className:"token operator",children:"&&"})," passwordMeta",(0,t.tZ)(a.span,{className:"token punctuation",children:"."}),(0,t.tZ)(a.span,{className:"token property-access",children:"error"}),(0,t.tZ)(a.span,{className:"token punctuation",children:"}"}),(0,t.tZ)(a.span,{className:"token plain-text"}),"\n",(0,t.tZ)(a.span,{className:"token plain-text",children:"    "}),(0,t.BX)(a.span,{className:"token tag",children:[(0,t.tZ)(a.span,{className:"token tag",children:(0,t.tZ)(a.span,{className:"token punctuation",children:"</"})}),(0,t.tZ)(a.span,{className:"token punctuation",children:">"})]}),"\n  ",(0,t.tZ)(a.span,{className:"token punctuation",children:")"}),(0,t.tZ)(a.span,{className:"token punctuation",children:";"}),"\n",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"}),(0,t.tZ)(a.span,{className:"token punctuation",children:";"}),"\n\n",(0,t.tZ)(a.span,{className:"token keyword",children:"const"})," ",(0,t.tZ)(a.span,{className:"token function-variable function",children:"validatePassword"})," ",(0,t.tZ)(a.span,{className:"token operator",children:"="})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),(0,t.tZ)(a.span,{className:"token punctuation",children:"{"})," value ",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"}),(0,t.tZ)(a.span,{className:"token punctuation",children:")"})," ",(0,t.tZ)(a.span,{className:"token arrow operator",children:"=>"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"{"}),"\n  ",(0,t.tZ)(a.span,{className:"token keyword",children:"if"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),(0,t.tZ)(a.span,{className:"token operator",children:"!"}),"value ",(0,t.tZ)(a.span,{className:"token operator",children:"||"})," value",(0,t.tZ)(a.span,{className:"token punctuation",children:"."}),(0,t.tZ)(a.span,{className:"token property-access",children:"length"})," ",(0,t.tZ)(a.span,{className:"token operator",children:"<"})," ",(0,t.tZ)(a.span,{className:"token number",children:"8"}),(0,t.tZ)(a.span,{className:"token punctuation",children:")"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"{"}),"\n    ",(0,t.tZ)(a.span,{className:"token keyword",children:"throw"})," ",(0,t.tZ)(a.span,{className:"token known-class-name class-name",children:"Error"}),(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),(0,t.tZ)(a.span,{className:"token string",children:'"Password must be 8 characters long"'}),(0,t.tZ)(a.span,{className:"token punctuation",children:")"}),(0,t.tZ)(a.span,{className:"token punctuation",children:";"}),"\n  ",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"}),"\n",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"}),(0,t.tZ)(a.span,{className:"token punctuation",children:";"}),"\n"]})})}),"\n",(0,t.tZ)(a.h2,{id:"event-specific-validation",children:"Event specific validation"}),"\n",(0,t.BX)(a.p,{children:["The ",(0,t.tZ)(a.code,{children:"trigger"})," argument can be used to cater validation to specific events; such as triggering asynchronous validation on submit."]}),"\n",(0,t.tZ)(a.div,{className:"remark-highlight",children:(0,t.tZ)(a.pre,{className:"language-tsx",children:(0,t.BX)(a.code,{className:"language-tsx",children:[(0,t.tZ)(a.span,{className:"token keyword",children:"const"})," ",(0,t.tZ)(a.span,{className:"token function-variable function",children:"validateUsername"})," ",(0,t.tZ)(a.span,{className:"token operator",children:"="})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),(0,t.tZ)(a.span,{className:"token punctuation",children:"{"})," trigger",(0,t.tZ)(a.span,{className:"token punctuation",children:","})," value ",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"}),(0,t.tZ)(a.span,{className:"token punctuation",children:")"})," ",(0,t.tZ)(a.span,{className:"token arrow operator",children:"=>"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"{"}),"\n  ",(0,t.tZ)(a.span,{className:"token comment",children:"// Ignore other field updates"}),"\n  ",(0,t.tZ)(a.span,{className:"token keyword",children:"if"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),"trigger ",(0,t.tZ)(a.span,{className:"token operator",children:"==="})," ",(0,t.tZ)(a.span,{className:"token string",children:"'update'"}),(0,t.tZ)(a.span,{className:"token punctuation",children:")"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"{"}),"\n    ",(0,t.tZ)(a.span,{className:"token keyword",children:"return"}),(0,t.tZ)(a.span,{className:"token punctuation",children:";"}),"\n  ",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"}),"\n\n  ",(0,t.tZ)(a.span,{className:"token comment",children:"// Ensure username exists (mount, change, blur, submit)"}),"\n  ",(0,t.tZ)(a.span,{className:"token keyword",children:"if"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),(0,t.tZ)(a.span,{className:"token operator",children:"!"}),"value",(0,t.tZ)(a.span,{className:"token punctuation",children:")"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"{"}),"\n    ",(0,t.tZ)(a.span,{className:"token keyword",children:"throw"})," ",(0,t.tZ)(a.span,{className:"token known-class-name class-name",children:"Error"}),(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),(0,t.tZ)(a.span,{className:"token string",children:"'Username is required'"}),(0,t.tZ)(a.span,{className:"token punctuation",children:")"}),(0,t.tZ)(a.span,{className:"token punctuation",children:";"}),"\n  ",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"}),"\n\n  ",(0,t.tZ)(a.span,{className:"token comment",children:"// Check if username is taken (submit)"}),"\n  ",(0,t.tZ)(a.span,{className:"token keyword",children:"if"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),"trigger ",(0,t.tZ)(a.span,{className:"token operator",children:"==="})," ",(0,t.tZ)(a.span,{className:"token string",children:"'submit'"}),(0,t.tZ)(a.span,{className:"token punctuation",children:")"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"{"}),"\n    ",(0,t.tZ)(a.span,{className:"token keyword",children:"return"})," ",(0,t.tZ)(a.span,{className:"token function",children:"isUsernameFree"}),(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),"value",(0,t.tZ)(a.span,{className:"token punctuation",children:")"}),(0,t.tZ)(a.span,{className:"token punctuation",children:"."}),(0,t.tZ)(a.span,{className:"token method function property-access",children:"then"}),(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),"isFree",(0,t.tZ)(a.span,{className:"token punctuation",children:")"})," ",(0,t.tZ)(a.span,{className:"token arrow operator",children:"=>"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"{"}),"\n      ",(0,t.tZ)(a.span,{className:"token keyword",children:"if"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),(0,t.tZ)(a.span,{className:"token operator",children:"!"}),"isFree",(0,t.tZ)(a.span,{className:"token punctuation",children:")"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"{"}),"\n        ",(0,t.tZ)(a.span,{className:"token keyword",children:"throw"})," ",(0,t.tZ)(a.span,{className:"token known-class-name class-name",children:"Error"}),(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),(0,t.tZ)(a.span,{className:"token string",children:"'Username is already taken'"}),(0,t.tZ)(a.span,{className:"token punctuation",children:")"}),(0,t.tZ)(a.span,{className:"token punctuation",children:";"}),"\n      ",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"}),"\n    ",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"}),(0,t.tZ)(a.span,{className:"token punctuation",children:")"}),(0,t.tZ)(a.span,{className:"token punctuation",children:";"}),"\n  ",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"}),"\n",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"}),(0,t.tZ)(a.span,{className:"token punctuation",children:";"}),"\n"]})})}),"\n",(0,t.tZ)(a.h2,{id:"cross-form-validation",children:"Cross form validation"}),"\n",(0,t.BX)(a.p,{children:["The ",(0,t.tZ)(a.code,{children:"form"})," argument can be used to conditionally validate a field based on other field values in the form."]}),"\n",(0,t.tZ)(a.div,{className:"remark-highlight",children:(0,t.tZ)(a.pre,{className:"language-tsx",children:(0,t.BX)(a.code,{className:"language-tsx",children:[(0,t.tZ)(a.span,{className:"token keyword",children:"const"})," ",(0,t.tZ)(a.span,{className:"token function-variable function",children:"validatePasswordConfirmation"})," ",(0,t.tZ)(a.span,{className:"token operator",children:"="})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),(0,t.tZ)(a.span,{className:"token punctuation",children:"{"})," value",(0,t.tZ)(a.span,{className:"token punctuation",children:","})," form ",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"}),(0,t.tZ)(a.span,{className:"token punctuation",children:")"})," ",(0,t.tZ)(a.span,{className:"token arrow operator",children:"=>"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"{"}),"\n  ",(0,t.tZ)(a.span,{className:"token comment",children:"// Wait for password validation first"}),"\n  ",(0,t.tZ)(a.span,{className:"token keyword",children:"if"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),(0,t.tZ)(a.span,{className:"token operator",children:"!"}),"form",(0,t.tZ)(a.span,{className:"token punctuation",children:"."}),(0,t.tZ)(a.span,{className:"token property-access",children:"password"}),(0,t.tZ)(a.span,{className:"token punctuation",children:"."}),(0,t.tZ)(a.span,{className:"token property-access",children:"isValid"}),(0,t.tZ)(a.span,{className:"token punctuation",children:")"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"{"}),"\n    ",(0,t.tZ)(a.span,{className:"token keyword",children:"return"}),(0,t.tZ)(a.span,{className:"token punctuation",children:";"}),"\n  ",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"}),"\n\n  ",(0,t.tZ)(a.span,{className:"token keyword",children:"if"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),"value ",(0,t.tZ)(a.span,{className:"token operator",children:"!=="})," form",(0,t.tZ)(a.span,{className:"token punctuation",children:"."}),(0,t.tZ)(a.span,{className:"token property-access",children:"password"}),(0,t.tZ)(a.span,{className:"token punctuation",children:"."}),(0,t.tZ)(a.span,{className:"token property-access",children:"value"}),(0,t.tZ)(a.span,{className:"token punctuation",children:")"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"{"}),"\n    ",(0,t.tZ)(a.span,{className:"token keyword",children:"throw"})," ",(0,t.tZ)(a.span,{className:"token known-class-name class-name",children:"Error"}),(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),(0,t.tZ)(a.span,{className:"token string",children:"'Password confirmation does not match'"}),(0,t.tZ)(a.span,{className:"token punctuation",children:")"}),(0,t.tZ)(a.span,{className:"token punctuation",children:";"}),"\n  ",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"}),"\n",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"}),(0,t.tZ)(a.span,{className:"token punctuation",children:";"}),"\n"]})})}),"\n",(0,t.tZ)(a.h2,{id:"cross-source-validation",children:"Cross source validation"}),"\n",(0,t.tZ)(a.p,{children:"Memoised validation functions dependent on state outside of the form can be used."}),"\n",(0,t.BX)(a.blockquote,{children:["\n",(0,t.tZ)(a.p,{children:"Changes to validation functions will retrigger the last mount/change/blur event"}),"\n"]}),"\n",(0,t.tZ)(a.div,{className:"remark-highlight",children:(0,t.tZ)(a.pre,{className:"language-tsx",children:(0,t.BX)(a.code,{className:"language-tsx",children:[(0,t.tZ)(a.span,{className:"token keyword",children:"const"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"{"})," addressIsRequired ",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"})," ",(0,t.tZ)(a.span,{className:"token operator",children:"="})," ",(0,t.tZ)(a.span,{className:"token function",children:"useSomeExternalState"}),(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),(0,t.tZ)(a.span,{className:"token punctuation",children:")"}),(0,t.tZ)(a.span,{className:"token punctuation",children:";"}),"\n\n",(0,t.tZ)(a.span,{className:"token keyword",children:"const"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"["}),"fieldProps",(0,t.tZ)(a.span,{className:"token punctuation",children:","})," fieldMeta",(0,t.tZ)(a.span,{className:"token punctuation",children:"]"})," ",(0,t.tZ)(a.span,{className:"token operator",children:"="})," ",(0,t.tZ)(a.span,{className:"token function",children:"useField"}),(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),(0,t.tZ)(a.span,{className:"token punctuation",children:"{"}),"\n  name",(0,t.tZ)(a.span,{className:"token operator",children:":"})," ",(0,t.tZ)(a.span,{className:"token string",children:"'address'"}),"\n  validate",(0,t.tZ)(a.span,{className:"token operator",children:":"})," ",(0,t.tZ)(a.span,{className:"token function",children:"useCallback"}),(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),(0,t.tZ)(a.span,{className:"token punctuation",children:"{"})," value ",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"}),(0,t.tZ)(a.span,{className:"token punctuation",children:")"})," ",(0,t.tZ)(a.span,{className:"token arrow operator",children:"=>"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"{"}),"\n    ",(0,t.tZ)(a.span,{className:"token keyword",children:"if"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),"addressIsRequired ",(0,t.tZ)(a.span,{className:"token operator",children:"&&"})," ",(0,t.tZ)(a.span,{className:"token operator",children:"!"}),"value",(0,t.tZ)(a.span,{className:"token punctuation",children:")"})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"{"}),"\n      ",(0,t.tZ)(a.span,{className:"token keyword",children:"throw"})," ",(0,t.tZ)(a.span,{className:"token known-class-name class-name",children:"Error"}),(0,t.tZ)(a.span,{className:"token punctuation",children:"("}),(0,t.tZ)(a.span,{className:"token string",children:'"Address is required"'}),(0,t.tZ)(a.span,{className:"token punctuation",children:")"}),(0,t.tZ)(a.span,{className:"token punctuation",children:";"}),"\n    ",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"}),"\n  ",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"}),(0,t.tZ)(a.span,{className:"token punctuation",children:","})," ",(0,t.tZ)(a.span,{className:"token punctuation",children:"["}),"addressIsRequired",(0,t.tZ)(a.span,{className:"token punctuation",children:"]"}),(0,t.tZ)(a.span,{className:"token punctuation",children:")"}),"\n",(0,t.tZ)(a.span,{className:"token punctuation",children:"}"}),(0,t.tZ)(a.span,{className:"token punctuation",children:")"}),(0,t.tZ)(a.span,{className:"token punctuation",children:";"}),"\n"]})})})]})}const c=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.components||{},e=a.wrapper;return e?(0,t.tZ)(e,Object.assign({},n,{children:(0,t.tZ)(s,n)})):s(n)}},8311:(n,a,e)=>{e.d(a,{HY:()=>t.HY,tZ:()=>c,BX:()=>c});e(8661);var t=e(6400),s=0;function c(n,a,e,c,l){var o,i,r={};for(i in a)"ref"==i?o=a[i]:r[i]=a[i];var p={type:n,props:r,key:e,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--s,__source:l,__self:c};if("function"==typeof n&&(o=n.defaultProps))for(i in o)void 0===r[i]&&(r[i]=o[i]);return t.YM.vnode&&t.YM.vnode(p),p}}}]);